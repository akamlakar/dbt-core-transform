version: 2

models:
  - name: fact_sales
    description: "Fact table capturing sales metrics for Amazon products."
    columns:
      - name: product_id
        description: "Unique identifier for the product."
        tests:
          - unique
          - not_null

      - name: category_id
        description: "Unique identifier for the product's category."
        tests:
          - not_null

      - name: total_reviews
        description: "Total number of reviews for the product."
        tests:
          - not_null

      - name: avg_rating
        description: "Average rating of the product out of 5."
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_between:
              max_value: 5

      - name: total_bought_last_month
        description: "Number of times the product was bought in the last month."
        tests:
          - not_null

      - name: revenue
        description: "Total revenue generated by the product in the last month."
        tests:
          - not_null

